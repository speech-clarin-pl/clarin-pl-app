(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{101:function(e,t){},104:function(e,t,a){e.exports=a.p+"static/media/logo-clarin-pl.ab822e22.png"},105:function(e,t,a){e.exports=a.p+"static/media/logo-clarin-pl-short.0ea93d1c.png"},110:function(e){e.exports={"TopBar.help":"Pomoc","TopBar.konto":"Konto","Jumbotron.lead":"\u0141atwa w u\u017cyciu platfroma do analizy sygna\u0142u mowy w nagraniach d\u017awi\u0119kowych","Jumbotron.sublead":"Znajdziesz tutaj narz\u0119dzia do rozpoznawania mowy, transkrypcji, segmentacji, analizy itp.","Jumbotron.register":"Zarejestruj si\u0119"}},111:function(e){e.exports={"TopBar.help":"Help","TopBar.konto":"Account","Jumbotron.lead":"Easy to use platform for analyzing the speech signal","Jumbotron.sublead":"You'll find here tools for speech recognition, transcription, segmentation, analysis and much more","Jumbotron.register":"Register"}},113:function(e,t,a){e.exports=a(301)},118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){},128:function(e,t){},134:function(e,t){},138:function(e,t,a){},140:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},163:function(e,t,a){},164:function(e,t,a){},165:function(e,t,a){},166:function(e,t,a){},167:function(e,t,a){},168:function(e,t,a){},169:function(e,t,a){},170:function(e,t,a){},171:function(e,t,a){},172:function(e,t,a){},173:function(e,t,a){},174:function(e,t,a){},177:function(e,t,a){},178:function(e,t,a){},179:function(e,t,a){},182:function(e,t,a){},183:function(e,t,a){},184:function(e,t,a){},185:function(e,t,a){},296:function(e,t,a){},297:function(e,t,a){},298:function(e,t,a){},299:function(e,t,a){},300:function(e,t,a){},301:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),i=a.n(o),l=(a(118),a(2)),s=a(3),c=a(6),u=a(4),d=a(5),p=a(1),m=(a(119),function(e){return e.children}),f=(a(120),a(26)),E=function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:["jumbotron","CustomJumbo"].join(" ")},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"display-4"},"CLARIN-PL"),r.a.createElement("p",{className:"lead"},"\u0141atwa w u\u017cyciu platfroma do analizy sygna\u0142u mowy w nagraniach d\u017awi\u0119kowych"),r.a.createElement("hr",{className:"my-4"}),r.a.createElement("p",null,"Znajdziesz tutaj narz\u0119dzia do m.in. do rozpoznawania mowy, segmentacji oraz transkrypcji.",r.a.createElement("br",null),"Korzystanie z serwisu wymaga zalozenia konta"))))},g=a(14),h=(a(138),a(11)),v=a(22),y=a(12),j=(a(140),function(e){var t=null,a=null,n=["Input","form-control"];switch(e.invalid&&e.touched&&(n.push("is-invalid"),a=r.a.createElement("p",null,"Wprowad\u017a poprawdn\u0105 warto\u015b\u0107!")),e.inputtype){case"input":t=r.a.createElement("input",Object.assign({onChange:e.whenchanged,className:n.join(" ")},e));break;case"textarea":t=r.a.createElement("textarea",Object.assign({onChange:e.whenchanged,className:n.join(" ")},e));break;default:t=r.a.createElement("input",Object.assign({onChange:e.whenchanged,className:n.join(" ")},e))}return r.a.createElement("div",{className:"Input"},r.a.createElement("label",null,e.label),t,a)}),w=a(10),N=a.n(w),b=function(e,t,a){return function(n){console.log("getProjectFilesForUser"),N.a.get("/repoFiles/"+e,{headers:{Authorization:"Bearer "+a},params:{projectId:t}}).then(function(e){console.log(e),n({type:"REPO_GET_USER_PROJECT_FILES",files:e.data.files})}).catch(function(e){n(function(e){return{type:"REPO_GET_USER_PROJECT_FILES_FAILED",error:e}}(e))})}},O=function(e){return{type:"REPO_RENAME_FOLDER_FAILED",error:e.toString()}},I=function(e,t,a,n,r,o){return{type:"LOG_IN",isAuth:e,token:t,authLoading:a,userId:n,userName:r,resLoginStatus:o}},R=function(){return console.log("LOG OUT"),{type:"LOG_OUT"}},k=function(e,t,a){return I(!0,a,!1,e,t)},L=function(e,t){return function(a){N.a.post("/auth/login",{email:e,password:t}).then(function(e){if(422===e.status)throw new Error("Validation failed.");if(200!==e.status&201!==e.status)throw console.log("Error"),new Error("Could not authenticate");console.log(e),localStorage.setItem("token",e.data.token),localStorage.setItem("userId",e.data.userId),localStorage.setItem("userName",e.data.userName),a(I(!0,e.data.token,!1,e.data.userId,e.data.userName,e.status));var t,n=new Date((new Date).getTime()+36e6);localStorage.setItem("expiryDate",n.toISOString()),a((t=36e6,console.log("setAutoLogout! after:"+t),{type:"SET_AUTO_LOGOUT",autoLogoutAfter:t}))}).catch(function(e){console.log(e),a(function(e){return{type:"LOG_IN_FAILED",isAuth:!1,authLoading:!1,message:e.response.data.message,resLoginStatus:e.response.status}}(e))})}},T=function(e,t,a){return{type:"UPDATE_FILE_STATE",fileID:e,status:t,percLoaded:a}},z=function(e,t,a,n){return function(r){var o=new FormData;o.append("audioFiles",e),o.append("audioFilesIds",t),o.append("projectId",n),o.append("userId",a);N.a.post("/recognition/singleFile",o,{headers:{"content-type":"multipart/form-data"}}).then(function(e){var t=e.data.message,a=e.data.sentEntryId.sentEntryId;console.log(t),console.log(a),r(function(e,t){return T(t,"done",100)}(0,a)),console.log(e)}).catch(function(e){r(function(e,t){return T(t,"error",0)}(0,t)),console.log(e)})}},P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loginform:{loginemail:{elementType:"input",elementConfig:{type:"text",placeholder:"Podaj sw\xf3j email"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1},loginpass:{elementType:"input",elementConfig:{type:"password",placeholder:"Wpisz has\u0142o"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},registerform:{registerName:{elementType:"input",elementConfig:{type:"text",placeholder:"Podaj swoje imie"},value:"",validation:{required:!0,minLength:2},valid:!1,touched:!1},registeremail:{elementType:"input",elementConfig:{type:"text",placeholder:"Podaj sw\xf3j email"},value:"",validation:{required:!0,minLength:5},valid:!1,touched:!1},registerpass:{elementType:"input",elementConfig:{type:"password",placeholder:"Wpisz has\u0142o"},value:"",validation:{required:!0,minLength:6},valid:!1,touched:!1}},loginFormIsValid:!1,registerFormIsValid:!1,firstTimeAfterLogin:!1},a.loginHandler=function(e){e.preventDefault();var t={};for(var n in a.state.loginform)t[n]=a.state.loginform[n].value;a.props.onLogIn(t.loginemail,t.loginpass)},a.registerHandler=function(e){e.preventDefault();var t={};for(var n in a.state.registerform)t[n]=a.state.registerform[n].value;a.props.onRegister(t.registerName,t.registeremail,t.registerpass)},a.inputRegisterChangedHandler=function(e){var t=Object(g.a)({},a.state.registerform);switch(e.target.name){case"registerName":var n=Object(g.a)({},t.registerName);n.value=e.target.value,n.valid=a.checkValidity(n.value,n.validation),n.touched=!0,t.registerName=n;break;case"registerEmail":var r=Object(g.a)({},t.registeremail);r.value=e.target.value,r.valid=a.checkValidity(r.value,r.validation),r.touched=!0,t.registeremail=r;break;case"registerPass":var o=Object(g.a)({},t.registerpass);o.value=e.target.value,o.valid=a.checkValidity(o.value,o.validation),o.touched=!0,t.registerpass=o}var i=!0;for(var l in t)i=t[l].valid&&i;a.setState({registerform:t,registerFormIsValid:i})},a.inputLoginChangedHandler=function(e){var t=Object(g.a)({},a.state.loginform);switch(e.target.name){case"loginEmail":var n=Object(g.a)({},t.loginemail);n.value=e.target.value,n.valid=a.checkValidity(n.value,n.validation),n.touched=!0,t.loginemail=n;break;case"loginPass":var r=Object(g.a)({},t.loginpass);r.value=e.target.value,r.valid=a.checkValidity(r.value,r.validation),r.touched=!0,t.loginpass=r}var o=!0;for(var i in t)o=t[i].valid&&o;console.log(o),a.setState({loginform:t,loginFormIsValid:o})},a.logOutHandler=function(){a.props.onLogOut(),a.props.history.push("/")},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"checkValidity",value:function(e,t){var a=!0;return t.required&&(a=""!==e.trim()&&a),t.minLength&&(a=e.length>=t.minLength&&a),a}},{key:"componentDidUpdate",value:function(e,t){this.props.isAuth,e.isAuth}},{key:"render",value:function(){var e=this;this.props.isAuth;var t=null;201===this.props.resRegistrationStatus||200===this.props.resRegistrationStatus?t=r.a.createElement("div",{className:"alert alert-success",role:"alert"},this.props.registrationMessage):0!==this.props.resRegistrationStatus&&(t=r.a.createElement("div",{className:"alert alert-warning",role:"alert"},this.props.registrationMessage));var a=null;201===this.props.resLoginStatus||200===this.props.resLoginStatus?a=r.a.createElement("div",{className:"alert alert-success",role:"alert"},this.props.loginMessage):0!==this.props.resLoginStatus&&(a=r.a.createElement("div",{className:"alert alert-warning",role:"alert"},this.props.loginMessage));var n=r.a.createElement("div",{className:"col"},r.a.createElement("h3",null,"Zarejestruj si\u0119"),""!==this.props.registrationMessage?t:null,r.a.createElement("form",{onSubmit:this.registerHandler},r.a.createElement("div",{className:"form-group"},r.a.createElement(j,{inputtype:"input",type:"text",label:"Imie",placeholder:"Podaj swoje imie",name:"registerName",touched:this.state.registerform.registerName.touched,invalid:!this.state.registerform.registerName.valid,whenchanged:function(t){return e.inputRegisterChangedHandler(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(j,{inputtype:"input",type:"text",label:"Adres Email",placeholder:"Podaj adres email",name:"registerEmail",touched:this.state.registerform.registeremail.touched,invalid:!this.state.registerform.registeremail.valid,whenchanged:function(t){return e.inputRegisterChangedHandler(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(j,{inputtype:"input",type:"password",label:"Has\u0142o",placeholder:"Podaj has\u0142o",name:"registerPass",touched:this.state.registerform.registerpass.touched,invalid:!this.state.registerform.registerpass.valid,whenchanged:function(t){return e.inputRegisterChangedHandler(t)}})),r.a.createElement("button",{disabled:!this.state.registerFormIsValid,className:"btn btn-primary"},"Zarejestruj si\u0119"))),o=r.a.createElement("div",{className:"col"},this.props.isAuth?r.a.createElement("div",null,r.a.createElement("h4",null,"Witaj: ",r.a.createElement("span",{className:"loggedAs"},this.props.userName)),r.a.createElement(h.b,{to:"/projectsList"},r.a.createElement("button",{className:"btn btn-primary btn-lg btn-block gotoprojects"},"Przejd\u017a do listy projekt\xf3w")),r.a.createElement("div",null," lub "),r.a.createElement("button",{className:"btn btn-secondary",onClick:this.logOutHandler},"Wyloguj si\u0119")):r.a.createElement("form",{onSubmit:this.loginHandler},r.a.createElement("h3",null,"Zaloguj si\u0119"),""!==this.props.loginMessage?a:null,r.a.createElement("div",{className:"form-group"},r.a.createElement(j,{inputtype:"input",type:"text",label:"Adres Email",placeholder:"Wpisz adres email",name:"loginEmail",touched:this.state.loginform.loginemail.touched,invalid:!this.state.loginform.loginemail.valid,whenchanged:function(t){return e.inputLoginChangedHandler(t)}})),r.a.createElement("div",{className:"form-group"},r.a.createElement(j,{inputtype:"input",type:"password",label:"Has\u0142o",placeholder:"Podaj has\u0142o",name:"loginPass",touched:this.state.loginform.loginpass.touched,invalid:!this.state.loginform.loginpass.valid,whenchanged:function(t){return e.inputLoginChangedHandler(t)}})),r.a.createElement("button",{disabled:!this.state.loginFormIsValid,className:"btn btn-primary"},"Zaloguj si\u0119")));return r.a.createElement(m,null,r.a.createElement("div",{className:["container-fluid","LoginArea"].join(" ")},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},this.props.isAuth?o:[n,o]))))}}]),t}(n.Component),D=Object(y.b)(function(e){return{isAuth:e.homeR.isAuth,loggedEmail:e.homeR.email,userName:e.homeR.userName,registrationMessage:e.homeR.registrationMessage,loginMessage:e.homeR.loginMessage,resRegistrationStatus:e.homeR.resRegistrationStatus,resLoginStatus:e.homeR.resLoginStatus}},function(e){return{onLogIn:function(t,a){return e(L(t,a))},onRegister:function(t,a,n){return e(function(e,t,a){return function(n){N.a.put("/auth/registration",{name:e,email:t,password:a}).then(function(e){var t,a,r;console.log(e),n((t=e.data.message,a=e.data.userId,r=e.status,{type:"REGISTER",message:t,userId:a,resRegistrationStatus:r}))}).catch(function(e){n(function(e){var t=e.response.data.message,a=e.response.status;if(e.response.data.data.length>=1)for(var n=0;n<e.response.data.data.length;n++)t+="\n",t+=e.response.data.data[n].msg;return{type:"REGISTER_FAILED",message:t,resRegistrationStatus:a}}(e))})}}(t,a,n))},onLogOut:function(){return e(R())}}})(Object(v.g)(P)),S=(a(159),function(e){var t=["btn","btn-secondary","btn-lg btn-block","introButton"];return r.a.createElement(m,null,r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"#mowa",className:t.join(" ")},"Narz\u0119dzia do rozpoznawania mowy"),r.a.createElement("a",{href:"#pliki",className:t.join(" ")},"Przetwarzanie du\u017cej ilo\u015bci plik\xf3w")),r.a.createElement("div",{className:"col"},r.a.createElement("a",{href:"#bezpieczenstwo",className:t.join(" ")},"Bezpiecze\u0144stwo danych"),r.a.createElement("a",{href:"#latwosc",className:t.join(" ")},"\u0141atwo\u015b\u0107 obs\u0142ugi"))))),r.a.createElement("div",{className:["container-fluid","DecoIntro"].join(" ")},r.a.createElement("div",{className:"container"})))}),F=(a(160),function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:["container","HomeText"].join(" ")},r.a.createElement("div",{className:"row"},r.a.createElement("dir",{className:"col"},r.a.createElement("h3",{id:"mowa"},"Narz\u0119dzia do rozpoznawania mowy"),r.a.createElement("p",null,"Serwis udost\u0119pnia narz\u0119dzia do rozpoznawania mowy z nagra\u0144 d\u017awi\u0119kowych. Robi to w spos\xf3b automatyczny, wyr\u0119czaj\u0105c u\u017cytkownika w dokonywaniu transkrypcji w spos\xf3b manualny. "),r.a.createElement("h3",{id:"pliki"},"Przetwarzanie du\u017cej ilo\u015bci plik\xf3w"),r.a.createElement("p",null,"W przypadku posiadania w swoich zasobach wielu plik\xf3w kt\xf3re wymagaj\u0105 analizy, istnieje mo\u017cliwo\u015b\u0107  uruchomienia zadania rozpoznawania na wszystkich wgranych plikach jednocze\u015bnie.")),r.a.createElement("dir",{className:"col",id:"bezpieczenstwo"},r.a.createElement("h3",{id:"bezpieczenstwo"},"Bezpiecze\u0144stwo danych"),r.a.createElement("p",null,"Twoje pliki s\u0105 chronione a dost\u0119p do nich jest mo\u017cliwy tylko dla zarejestrowanych u\u017cytkownik\xf3w. Dzi\u0119ki podgl\u0105dowi plik\xf3w w repozytorium, istnieje mo\u017cliwo\u015b\u0107 ich zarz\u0105dzania oraz usuwania po wykonaniu zadania. "),r.a.createElement("h3",{id:"latwosc"},"\u0141atwo\u015b\u0107 obs\u0142ugi"),r.a.createElement("p",null,"Serwis zosta\u0142 tak zaprojektowany aby w maksymalny spos\xf3b u\u0142atwi\u0107 jego obs\u0142ug\u0119. Nawigacja w serwisie nie sprawi \u017cadnego problemu. Interfejs u\u017cytkownika przewiduje dost\u0119pno\u015b\u0107 wszystkich funkcjonalno\u015bci w jednym miejscu, bez konieczno\u015bci nawigowania w strukturze serwisu.")))))}),A=(a(161),a(21)),_=a.n(A),C=function(e){return r.a.createElement(m,null,r.a.createElement("footer",{className:["text-muted","container-fluid","AppFooter"].join(" ")},r.a.createElement("div",{className:"container"},r.a.createElement("div",null,"CLARIN-PL ",_()().format("YYYY")),r.a.createElement("div",{className:"contactInfo"},r.a.createElement("div",null,"Main developers: Danijel Korzinek (back-end): danijel@pjwstk.edu.pl, Mariusz Kle\u0107 (front-end): mklec@pjwstk.edu.pl ")))))},x=(a(162),a(104)),M=a.n(x),H=a(105),U=a.n(H),W=function(e){var t="init"===e.version,a=["TopBar","navbar","navbar-expand"];return t&&a.push("init"),r.a.createElement("nav",{className:a.join(" ")},r.a.createElement("div",{className:"no"===e.wide?"container":"container-fluid"},r.a.createElement(h.b,{to:"/",className:"navbar-brand",onClick:e.clickLogo},r.a.createElement("div",{className:"logoPlace"},r.a.createElement("img",{src:t?U.a:M.a,alt:"clarin-logo",className:"logo"}))),r.a.createElement("div",{className:"projectTitleEdit"},t?null:r.a.createElement("div",null,r.a.createElement(h.b,{to:"/projectsList"},r.a.createElement("i",{className:["fas","fa-arrow-left"].join(" ")})),r.a.createElement("span",{className:"editField"},e.projectTitle))),r.a.createElement("ul",{className:"navbar-nav"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.b,{to:"/help",className:["nav-link","navLink"].join(" "),id:"navbarDropdownMenuLinkpomoc",role:"button","aria-haspopup":"true","aria-expanded":"false"},r.a.createElement("i",{className:"fas fa-question-circle"}),"Pomoc")))))},G=function(e){return r.a.createElement(m,null,r.a.createElement(W,{version:"init",wide:"no",language:"pl",projectTitle:"",changeLn:e.changeLn,currLn:e.currLn}),r.a.createElement(E,null),r.a.createElement(D,null),r.a.createElement(S,null),r.a.createElement(F,null),r.a.createElement(C,null))},B=(a(163),a(164),function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:"SettingBar"},r.a.createElement("nav",{className:"navbar navbar-expand-lg"},r.a.createElement("div",{className:" navbar-collapse"}))))}),V=(a(165),a(166),function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:"FooterTool"},r.a.createElement("div",null,"CLARIN-PL ",_()().format("YYYY")),r.a.createElement("div",{className:"contactInfo"},"Main developers: ",r.a.createElement("br",null),"Danijel Korzinek: danijel@pjwstk.edu.pl",r.a.createElement("br",null),"Mariusz Kle\u0107: mklec@pjwstk.edu.pl",r.a.createElement("br",null))))}),J=(a(167),function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:"LeftSiteBar",id:"LeftSiteBar"},r.a.createElement("div",{className:"true"===e.czyTopPart?"topPart":"resetTopPart"}),r.a.createElement("div",{className:"true"===e.czyTopPart?"hintPanel":"resetHintPanel"},r.a.createElement("div",{className:"btn-group-vertical btn-block",id:"hint-buttons"},e.children),r.a.createElement("div",{id:"hint-content","data-scrollbar":!0},r.a.createElement("div",{className:"container-fluid texts"},e.desc)))))});function K(e){return null!=e.match(/(?:.+..+[^\/]+$)/gi)?e.split(".").slice(-1):"null"}var Y=function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.repoFiles.length,t=0;return this.props.repoFiles.map(function(e){return t+=e.size}),r.a.createElement(m,null,r.a.createElement(J,{czyTopPart:"true",desc:"W tym miejscu znajduj\u0105 si\u0119 statystyki aktualnie wykonywanych us\u0142ug oraz przestrzeni zajmowanej przez wgrane pliki do projektu"}),r.a.createElement(B,null),r.a.createElement("section",{className:"Content","data-scrollbar":!0},r.a.createElement("div",{className:["container-fluid","Dashboard"].join(" ")},r.a.createElement("div",{className:"tool-desc"},r.a.createElement("p",null,"Obecnie dwie us\u0142ugi posiadaj\u0105 interfejs graficzny: rozpoznawanie mowy oraz segmentacja. Pozosta\u0142e us\u0142ugi dost\u0119pne s\u0105 w poprzedniej wersji strony dost\u0119pnej ",r.a.createElement("a",{href:"http://mowa.clarin-pl.eu/tools/",target:"blank"},"pod tym linkiem"),".")),r.a.createElement("div",{className:"tool-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:["card-header","cardHeader"].join(" ")},"Aktualno\u015bci"),r.a.createElement("div",{className:"card-body text-dark"},r.a.createElement("h5",{className:"news-title"},"Wersja beta nowego serwisu "),r.a.createElement("div",{className:"news-date"},"02.07.2019"),r.a.createElement("p",{className:"news-body"},"Mi\u0142o nam przywita\u0107 Ci\u0119 w panelu nowego serwisu kt\xf3ry w\u0142a\u015bnie wystartowa\u0142. Wszelkie uwagi na temat jego funkcjonowania beda mile widziane. Kontakt do developerow: Danijel Korzinek: danijel@pjwstk.edu.pl, Mariusz KLec: mklec@pjwstk.edu.pl")))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:["card-header","cardHeader"].join(" ")},"Aktualnie dzia\u0142aj\u0105ce procesy"),r.a.createElement("div",{className:"card-body text-dark"},r.a.createElement("div",{className:"row mb-3"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"news-title"},"Rozpoznawanie:"),r.a.createElement("p",null,"Ca\u0142kowita licza plik\xf3w w kolejce: (",this.props.filesToUploadRec.length,")"))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col"},r.a.createElement("h5",{className:"news-title"},"Segmentacja:"),r.a.createElement("p",null,"Ca\u0142kowita licza plik\xf3w w kolejce: (",this.props.segmentEntry.length,"))"))))))),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:["card-header","cardHeader"].join(" ")},"U\u017cycie repozytorium"),r.a.createElement("div",{className:"card-body text-dark"},r.a.createElement("p",null," Liczba plikow w repozytorium: (",e,")"),r.a.createElement("p",null," Zajmowana pamiec: (",function(e){var t=["Bytes","KB","MB","GB","TB"];if(0===e)return"no files";var a=parseInt(Math.floor(Math.log(Math.abs(e))/Math.log(1024)),10);return 0===a?"".concat(e," ").concat(t[a],")"):"".concat((e/Math.pow(1024,a)).toFixed(1)," ").concat(t[a])}(t),")")))),r.a.createElement("div",{className:"col-md-6"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("div",{className:["card-header","cardHeader"].join(" ")},"Szybkie linki"),r.a.createElement("div",{className:"card-body text-dark"},r.a.createElement("p",null,r.a.createElement(h.b,{to:this.props.location.pathname.replace("dashboard","recognition")},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block op-btn"},r.a.createElement("i",{className:"fas fa-comments"})," Rozpoznawanie mowy"))),r.a.createElement("p",null,r.a.createElement(h.b,{to:this.props.location.pathname.replace("dashboard","segment")},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block op-btn"},r.a.createElement("i",{className:"fas fa-cogs"})," Segmentacja"))),r.a.createElement("p",null,r.a.createElement(h.b,{to:"/help"},r.a.createElement("button",{type:"button",className:"btn btn-primary btn-block op-btn"},r.a.createElement("i",{className:"fas fa-question-circle"})," Pomoc")))))))),r.a.createElement("p",null," ")),r.a.createElement(V,null)))}}]),t}(n.Component),Z=Object(y.b)(function(e){return{filesToUploadRec:e.recR.filesToUpload,segmentEntry:e.segR.segmentEntry,repoFiles:e.repoR.files}},function(e){return{}})(Object(v.g)(Y)),X=(a(168),a(169),function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).componentWillMount=function(){a.reader=new FileReader;var e=a.props.allFiles.find(function(e){return e.id==a.props.fileID});console.log(e.status),"loaded"!==e.status&&"done"!==e.status&&"error"!==e.status&&"progress"!==e.status&&"ready"!==e.status&&(console.log("Wlaczam upload pliku"),a.fileUpload(e.file,e.id))},a.componentWillUnmount=function(){},a.fileUpload=function(e,t){a.reader.onloadstart=function(e){console.log("ONLOADSTART"),a.props.updateFileState(t,"toload",0)},a.reader.onprogress=function(e){if(console.log("ONPROGRESS"),e.lengthComputable){var n=Math.round(e.loaded/e.total*100);n<100&&a.props.updateFileState(t,"toload",n)}},a.reader.onloadend=function(e){console.log("ONLOADEND"),a.props.updateFileState(t,"loaded",100)},a.reader.onerror=function(e){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:alert("File Not Found!");break;case e.target.error.NOT_READABLE_ERR:alert("File is not readable");break;case e.target.error.ABORT_ERR:break;default:alert("An error occurred reading this file.")}a.props.updateFileState(t,"error",0)},console.log("reader zaczyna czytanie pliku: "),console.log(e),a.reader.readAsBinaryString(e)},a.startFileRecognition=function(e){var t=a.props.allFiles.find(function(e){return e.id==a.props.fileID});a.props.updateFileState(e,"progress",100),a.props.onFileRecognition(t.file,t.id,a.props.userId,a.props.projectId)},a.previewItem=function(e){var t=a.props.match.url;t=t.replace("recognition","preview"),console.log(t),a.props.history.push({pathname:t}),a.props.onOpenRecognitionAudioPreview(e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){for(var e=this,t=null,a=null,n=this.props.allFiles.find(function(t){return t.id==e.props.fileID}),o=n.file.size,i=o+" bytes",l=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],s=0,c=o/1024;c>1;c/=1024,s++)i=c.toFixed(1)+" "+l[s];var u=r.a.createElement(m,null,r.a.createElement("a",{className:"actionIcon remove",onClick:function(){return e.props.onRemoveItem(e.props.fileID)}},r.a.createElement("i",{className:"fas fa-times "})));switch(n.status){case"toload":t=r.a.createElement("span",{className:"loading"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"loading... ")),"\u0141adowanie pliku ",n.loadedperc+"%"),a=r.a.createElement(m,null,u);break;case"ready":t=r.a.createElement("span",{className:"ready"},r.a.createElement("i",{className:"fas fa-check"})," Gotowe"),a=r.a.createElement(m,null,null,r.a.createElement("a",{href:"#",className:"actionIcon download"},r.a.createElement("i",{className:"fas fa-download"})),r.a.createElement("a",{href:"#",className:"actionIcon downloadRepo"},r.a.createElement("i",{className:"fas fa-cloud-download-alt"})),u);break;case"loaded":t=r.a.createElement("span",{className:"uploaded"},r.a.createElement("i",{className:"fas fa-check"})," Za\u0142adowany"),a=r.a.createElement(r.a.Fragment,null,r.a.createElement("a",{onClick:function(t){return e.startFileRecognition(e.props.fileID)},className:"actionIcon recognitionIcon"},r.a.createElement("i",{className:"fas fa-comments"})),null,u);break;case"error":t=r.a.createElement("span",{className:"error"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})," B\u0142\u0105d"),a=r.a.createElement(m,null,u);break;case"progress":t=r.a.createElement("span",{className:"inprogress"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")),"Rozpoznawanie..."),a=r.a.createElement(m,null,u);break;case"done":t=r.a.createElement("span",{className:"done"},r.a.createElement("i",{className:"fas fa-check"})," Rozpoznawanie zakonczone"),this.props.onGetProjectFilesForUser(this.props.userId,this.props.projectId,this.props.token),a=r.a.createElement(m,null,null,u);break;default:t=null,a=null}return r.a.createElement(m,null,r.a.createElement("div",{className:["row","fileItem","RecognitionItem"].join(" ")},r.a.createElement("div",{className:"col-sm file-info"},r.a.createElement("i",{className:"fas fa-desktop"}),r.a.createElement("span",{className:"fileName"},n.file.name),r.a.createElement("span",{className:"fileSize"},"(",i,")")),r.a.createElement("div",{className:"col-sm-auto file-status"},t),r.a.createElement("div",{className:["col-sm","fileIcons"].join(" ")},a)))}}]),t}(n.Component)),q=Object(y.b)(function(e){return{allFiles:e.recR.filesToUpload,userId:e.projectR.currentProjectOwner,projectId:e.projectR.currentProjectID,token:e.homeR.token}},function(e){return{updateFileState:function(t,a,n){return e(T(t,a,n))},onGetProjectFilesForUser:function(t,a,n){return e(b(t,a,n))},onFileRecognition:function(t,a,n,r){return e(z(t,a,n,r))},onRemoveItem:function(t){return e(function(e){return console.log("REMOVING: "+e),{type:"REMOVE_RECOGNITION_ITEM",fileId:e}}(t))},onOpenRecognitionAudioPreview:function(t){return e(function(e){return{type:"OPEN_AUDIO_RECOGNITION_PREVIEW",fileID:e}}(t))}}})(Object(v.g)(X)),$=(a(170),function(e){function t(){return Object(l.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"DropFilesArea"},r.a.createElement("div",{id:"react-file-drop"},r.a.createElement("div",{className:"uploadFromDiskArea"},r.a.createElement("h2",null,this.props.mainTitle),r.a.createElement("p",null,this.props.desc),r.a.createElement("input",{id:"file-input",type:"file",multiple:!0,onChange:this.props.whenFilesChose}),r.a.createElement("i",{className:"fas fa-upload"}))))}}]),t}(n.Component)),Q=(a(171),function(e){var t=["fas",e.iconType],a=!!e.disabled;return r.a.createElement("button",{disabled:a,className:"btn btn-primary btn-lg btn-block ButtonLeftBar",onClick:e.whenClicked,style:e.customeStyle},r.a.createElement("i",{className:t.join(" ")}),e.napis)}),ee=(a(172),{position:"relative"}),te={position:"absolute",top:"0px",left:"0px",right:"0px",bottom:"0px",width:"100%",height:"100%",color:"#3498db",backgroundColor:"rgba(255,255,255,0.9)",border:"4px dotted #3498db",borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center"},ae=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={drag:!1},a.dropRef=r.a.createRef(),a.handleDrag=function(e){console.log("handleDrag"),e.preventDefault(),e.stopPropagation()},a.handleDragIn=function(e){console.log("handleDragIn "+a.dragCounter),e.preventDefault(),e.stopPropagation(),a.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&a.setState({drag:!0})},a.handleDragOut=function(e){console.log("handleDragOut "+a.dragCounter),e.preventDefault(),e.stopPropagation(),a.dragCounter--,0===a.dragCounter&&a.setState({drag:!1})},a.handleDrop=function(e){console.log("handleDrop"),console.log(e),e.preventDefault(),e.stopPropagation(),a.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0&&(a.props.whenDropped(e.dataTransfer.files),e.dataTransfer.clearData(),a.dragCounter=0)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.dropRef.current;this.dragCounter=0,e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}},{key:"componentWillUnmount",value:function(){var e=this.dropRef.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}},{key:"render",value:function(){return r.a.createElement("div",{className:"DragAndDrop",style:ee,ref:this.dropRef},this.state.drag?r.a.createElement("div",{className:"dropIndication",style:te},r.a.createElement("h2",null,"Upu\u015b\u0107 pliki tutaj")):null,this.props.children)}}]),t}(n.Component),ne=(a(173),a(174),function(e){return e.show?r.a.createElement("div",{className:"Backdrop",onClick:e.clicked}):null}),re=function(e){return r.a.createElement(m,null,r.a.createElement(ne,{show:e.show,clicked:e.modalClosed}),r.a.createElement("div",{className:"Modal",style:{transform:e.show?"translateY(0)":"translateY(-100vh)",opacity:e.show?"1":"0"}},e.children))},oe=a(13),ie=a.n(oe),le=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDrop=function(e){for(var t=[],n=[],r=[],o=0;o<e.length;o++){var i=e[o],l=K(i.name)[0];"wav"===l||"WAV"===l||"mp3"===l||"au"===l?n.push(i):r.push(i)}r.length>0&&(a.props.onSetRefusionFiles(r),a.props.onOpenModalHandler()),Array.from(n).forEach(function(e){var a=Object.assign({},e);a.file=e,a.status="toload",a.loadedperc=0,a.id=ie.a.v4(),t.push(a)}),a.props.onDrop(t)},a.whenFilesChose=function(e){for(var t=e.currentTarget,n=[],r=[],o=0;o<t.files.length;o++){var i=K(t.files[o].name)[0];"wav"===i||"WAV"===i||"mp3"===i||"au"===i?n.push(t.files[o]):r.push(t.files[o])}r.length>0&&(a.props.onSetRefusionFiles(r),a.props.onOpenModalHandler()),a.handleDrop(n)},a.openModalHandler=function(){a.props.onOpenModalHandler()},a.closeModalHandler=function(){a.props.onCloseModalHandler()},a.startBatchRecognition=function(){var e=a.props.filesToUpload.map(function(e){return e.file}),t=a.props.filesToUpload.map(function(e){return e.id});a.props.onStartBatchRecognition(e,t),a.closeModalHandler()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=null;this.props.refusedFileList.length>0&&(e=this.props.refusedFileList.map(function(e){return r.a.createElement("div",null,e.name)}));var t=r.a.createElement("h4",{style:{marginTop:"10px"}},"Wgraj pliki do rozpoznawania");return this.props.filesToUpload.length>0&&(t=this.props.filesToUpload.map(function(e,t){return r.a.createElement(q,{key:"key"+t,fileID:e.id})})),r.a.createElement(m,null,r.a.createElement(re,{show:this.props.modalDisplay,modalClosed:this.closeModalHandler},r.a.createElement("div",{className:"alert alert-warning",role:"alert"},r.a.createElement("p",null,"Ponizsze pliki nie sa plikami audio.",r.a.createElement("br",null),"Nie zostana one dodane do kolejki rozpoznawania"),e),r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.closeModalHandler},"OK")),r.a.createElement(J,{czyTopPart:"true",desc:"W tym miejscu istnieje mo\u017cliwo\u015b\u0107 wykonywania automatycznego rozpoznawania mowy z nagra\u0144 d\u017awi\u0119kowych"}),r.a.createElement(B,null),r.a.createElement("section",{className:"Content","data-scrollbar":!0},r.a.createElement("div",{className:["container-fluid","RecognitionTool"].join(" ")},r.a.createElement("div",{className:"tool-desc"},r.a.createElement("p",null,"Zamiana nagrania mowy na zapis ortograficzny. Pliki audio przekazywane do tej us\u0142ugi musz\u0105 by\u0107 w odpowiednim formacie (WAV, 16kHz, mono, 16-bit). Je\u015bli plik nie jest w odpowiednim formacie, mo\u017cna skorzysta\u0107 z us\u0142ugi normalizacji audio do odpowiedniego przekonwertowania pliku znajduj\u0105ce si\u0119 na  ",r.a.createElement("a",{href:"http://mowa.clarin-pl.eu/tools/ui/audio/normalize",target:"blank"},"TEJ stronie"),"."),r.a.createElement("p",null,"Narz\u0119dzie umo\u017cliwia wgranie wielu plik\xf3w jednocze\u015bnie i uruchomienie us\u0142ugi na wszystkich jednocze\u015bnie. W trakcie wykonywania us\u0142ugi nie nale\u017cy od\u015bwie\u017ca\u0107 strony.")),r.a.createElement("div",{className:"tool-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement(ae,{whenDropped:this.handleDrop},r.a.createElement($,{whenFilesChose:this.whenFilesChose,mainTitle:"Wgraj pliki z dysku",desc:"Pliki zostan\u0105 zapisane jedynie tymczasowo na potrzeby przetwarzania. Po tym czasie s\u0105 one usuwane bezpowrotnie usuwane z serwera"})))),r.a.createElement("div",{className:"file-list"},t))),r.a.createElement(V,null)))}}]),t}(n.Component),se=Object(y.b)(function(e){return{filesToUpload:e.recR.filesToUpload,modalDisplay:e.projectR.modal,refusedFileList:e.recR.refusedFileList}},function(e){return{onDrop:function(t){return e(function(e){return{type:"DROP_FILES",files:e}}(t))},onOpenModalHandler:function(){return e({type:"OPEN_MODAL_PROJECT"})},onCloseModalHandler:function(){return e({type:"CLOSE_MODAL_PROJECT"})},onStartBatchRecognition:function(t,a){return e(function(e,t){return function(a){for(var n=new FormData,r=0;r<e.length;r++)n.append("audioFiles",e[r]);n.append("audioFilesIds",t),N.a.post("/recognition/multipleFiles",n,{headers:{"content-type":"multipart/form-data"}}).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}}(t,a))},onSetRefusionFiles:function(t){return e({type:"REFUSE_RECO_FILES",refusedFileList:t})}}})(le),ce=(a(177),a(178),a(179),function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).removeSegmentItem=function(e){console.log(e),a.props.onRemoveSegmentItem(e)},a.startSegmentation=function(e){console.log(e);var t=a.props.segmentEntry.find(function(t){return t.id==e}),n=t.audioEntry.file,r=t.txtEntry.file;a.props.onInitSegmentProcess(e),a.props.onStartSegmentItem(e,a.props.userId,a.props.projectId,n,r,a.props.token)},a.refreshRepo=function(){a.props.onRefreshRepo(a.props.userId,a.props.projectId,a.props.token)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=null,a=null;"valid"===this.props.status?(t=r.a.createElement("span",{className:"segmenticon ready"},r.a.createElement("i",{className:"fas fa-check"})),a=r.a.createElement("a",{onClick:function(){return e.startSegmentation(e.props.entryId)}},r.a.createElement("i",{className:"startSegment fas fa-cogs"}))):(t=r.a.createElement("span",{className:"segmenticon warning"},r.a.createElement("i",{className:"fas fa-exclamation"})),a=null);var n=this.props.segmentEntry.find(function(t){return t.id===e.props.entryId});return"inProgress"===n.processingStatus&&(t=r.a.createElement("span",{className:"inprogress"},r.a.createElement("div",{className:"spinner-border text-primary",role:"status"},r.a.createElement("span",{className:"sr-only"},"Segmentacja..."))),a=null),"done"===n.processingStatus&&(t=r.a.createElement("span",{className:"segmenticon complete"},r.a.createElement("i",{className:"fas fa-check"})),a=null,this.refreshRepo()),"error"===n.processingStatus&&(t=r.a.createElement("span",{className:"error"},r.a.createElement("i",{className:"fas fa-exclamation-triangle"})," B\u0142\u0105d"),a=null),r.a.createElement(m,null,r.a.createElement("div",{className:["row","pairedItem","SegmentItem"].join(" ")},r.a.createElement("div",{className:"col-sm audio-info"}),r.a.createElement("div",{className:"col-sm-auto pair-status"},t),r.a.createElement("div",{className:"col-sm txt-info"}),r.a.createElement("div",{className:"col-sm-auto pair-icons"},a,r.a.createElement("a",{onClick:function(){return e.removeSegmentItem(e.props.entryId)}},r.a.createElement("i",{className:"removeItem fas fa-times"})))))}}]),t}(n.Component)),ue=Object(y.b)(function(e){return{segmentEntry:e.segR.segmentEntry,userId:e.projectR.currentProjectOwner,projectId:e.projectR.currentProjectID,token:e.homeR.token}},function(e){return{onRemoveSegmentItem:function(t){return e({type:"REMOVE_SEGMENT_ENTRY",entryId:t})},onStartSegmentItem:function(t,a,n,r,o,i){return e(function(e,t,a,n,r,o){return function(o){var i=new FormData;i.append("entryId",e),i.append("userId",t),i.append("projectId",a),i.append("audioFiles",n),i.append("audioFiles",r),console.log("WYSYLAM"),console.log(e),console.log(t),console.log(a),console.log(n),console.log(r),N.a.post("/segmentation/singleFile",i,{headers:{"content-type":"multipart/form-data"}}).then(function(t){console.log(t),o(function(e){return{type:"FILE_SEGMENTATION_SUCCESS",entryId:e}}(e))}).catch(function(t){o(function(e,t){return{type:"FILE_SEGMENTATION_FAILED",error:e.toString(),entryId:t}}(t,e)),console.log(t)})}}(t,a,n,r,o))},onInitSegmentProcess:function(t){return e(function(e){return{type:"INIT_FILE_SEGMENTATION",entryId:e}}(t))},onRefreshRepo:function(t,a,n){return e(b(t,a,n))}}})(Object(v.g)(ce)),de=a(48),pe=a.n(de),me=(a(182),function(e){var t=e.items,a=e.onChange,n=t.map(function(e,t){return r.a.createElement("div",{className:"SortableAudioList",key:e.id,"data-id":e.id},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-auto withReference"},r.a.createElement("span",{className:"orderNo"},t+1),r.a.createElement("i",{className:"fas fa-arrows-alt-v"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("span",{className:"file-name"},e.file.name))))});return r.a.createElement("div",null,r.a.createElement(pe.a,{options:{handle:".fa-arrows-alt-v",animation:150},ref:function(e){e&&e.sortable},tag:"div",onChange:function(e,t,n){a(e)}},n))}),fe=(a(183),function(e){var t=e.items,a=e.onChange,n=t.map(function(e,t){return r.a.createElement("div",{className:"SortableTxtList",key:e.id,"data-id":e.id},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-sm-auto"},r.a.createElement("i",{className:"fas fa-arrows-alt-v"})),r.a.createElement("div",{className:"col-sm"},r.a.createElement("span",{className:"file-name"},e.file.name))))});return r.a.createElement("div",null,r.a.createElement(pe.a,{options:{handle:".fa-arrows-alt-v",animation:150},ref:function(e){e&&e.sortable},tag:"div",onChange:function(e,t,n){a(e)}},n))}),Ee=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleDropAudio=function(e){for(var t=[],n=[],r=[],o=0;o<e.length;o++){var i=e[o],l=K(i.name)[0];"wav"===l||"WAV"===l||"mp3"===l||"au"===l?n.push(i):r.push(i)}r.length>0&&(a.props.onSetRefusionAudioFiles(r),a.props.onOpenModalHandler()),Array.from(n).forEach(function(e){var a=Object.assign({},e);a.file=e,a.status="toload",a.loadedperc=0,a.id=ie.a.v4(),t.push(a)}),a.props.onAudioDrop(t)},a.whenAudioFilesChose=function(e){for(var t=e.currentTarget,n=[],r=[],o=[],i=0;i<t.files.length;i++){var l=t.files[i],s=K(l.name)[0];"wav"===s||"WAV"===s||"mp3"===s||"au"===s?r.push(l):o.push(l)}o.length>0&&(a.props.onSetRefusionAudioFiles(o),a.props.onOpenModalHandler()),Array.from(r).forEach(function(e){var t=Object.assign({},e);t.file=e,t.status="toload",t.loadedperc=0,t.id=ie.a.v4(),n.push(t)}),a.props.onAudioDrop(n)},a.handleDropTxt=function(e){for(var t=[],n=[],r=[],o=0;o<e.length;o++){var i=e[o];"txt"===K(i.name)[0]?n.push(i):r.push(i)}r.length>0&&(a.props.onSetRefusionTxtFiles(r),a.props.onOpenModalHandler()),Array.from(n).forEach(function(e){var a=Object.assign({},e);a.file=e,a.status="toload",a.loadedperc=0,a.id=ie.a.v4(),t.push(a)}),a.props.onTxtDrop(t)},a.whenTxtFilesChose=function(e){for(var t=e.currentTarget,n=[],r=[],o=[],i=0;i<t.files.length;i++){var l=t.files[i];"txt"===K(l.name)[0]?r.push(l):o.push(l)}o.length>0&&(a.props.onSetRefusionTxtFiles(o),a.props.onOpenModalHandler()),Array.from(r).forEach(function(e){var t=Object.assign({},e);t.file=e,t.status="toload",t.loadedperc=0,t.id=ie.a.v4(),n.push(t)}),a.props.onTxtDrop(n)},a.openModalHandler=function(){a.props.onOpenModalHandler()},a.closeModalHandler=function(){a.props.onCloseModalHandler()},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement("h4",{style:{marginTop:"10px"}},"Wgraj pliki audio oraz txt do segmentacji");this.props.segmentEntry.length>0&&(t=this.props.segmentEntry.map(function(e,t){return r.a.createElement(ue,{key:e.id,entryId:e.id,status:e.status})}));var a;a=this.props.refusedAudioFileList.map(function(e,t){return r.a.createElement("div",{key:t},e.name)});var n;n=this.props.refusedTxtFileList.map(function(e,t){return r.a.createElement("div",{key:t},e.name)});var o=null;return o=this.props.ifRefusedAudio?r.a.createElement("div",{className:"alert alert-warning",role:"alert"},r.a.createElement("p",null,"Ponizsze pliki nie sa plikami audio.",r.a.createElement("br",null),"Nie zostana one dodane do kolejki segmentacji"),a):r.a.createElement("div",{className:"alert alert-warning",role:"alert"},r.a.createElement("p",null,"Ponizsze pliki nie sa plikami txt.",r.a.createElement("br",null),"Nie zostana one dodane do kolejki segmentacji"),n),r.a.createElement(m,null,r.a.createElement(re,{show:this.props.modalDisplay,modalClosed:this.closeModalHandler},o,r.a.createElement("button",{type:"button",className:"btn btn-outline-secondary",onClick:this.closeModalHandler},"OK")),r.a.createElement(J,{czyTopPart:"true",desc:"Dopasowanie czasowe tekstu do nagrania. Podzia\u0142 nagrania na segmenty (wyrazy i fonemy). "}),r.a.createElement(B,null),r.a.createElement("section",{className:"Content","data-scrollbar":!0},r.a.createElement("div",{className:["container-fluid","SegmentTool"].join(" ")},r.a.createElement("div",{className:"tool-desc"},r.a.createElement("p",null,"Narz\u0119dzie to jest dostosowane do przetwarzania stosunkowo kr\xf3tkich nagra\u0144 (poni\u017cej minuty). D\u0142u\u017csze nagrania mog\u0105 spowodowa\u0107 powstanie b\u0142\u0119du."),r.a.createElement("p",null,"Pliki audio przekazywane do tej us\u0142ugi musz\u0105 by\u0107 w odpowiednim formacie (WAV, 16kHz, mono, 16-bit). Je\u015bli plik nie jest w odpowiednim formacie, mo\u017cna skorzysta\u0107 z us\u0142ugi normalizacji audio do odpowiedniego przekonwertowania pliku znajduj\u0105ce si\u0119 na  ",r.a.createElement("a",{href:"http://mowa.clarin-pl.eu/tools/ui/audio/normalize",target:"blank"},"TEJ stronie"),"."),r.a.createElement("p",null,"Narz\u0119dzie umo\u017cliwia wgranie wielu plik\xf3w jednocze\u015bnie i uruchomienie us\u0142ugi na wszystkich jednocze\u015bnie. W trakcie wykonywania us\u0142ugi nie nale\u017cy od\u015bwie\u017ca\u0107 strony."),r.a.createElement("p",null,r.a.createElement("b",null,"W przypadku wgrania wi\u0119kszej ilo\u015bci plik\xf3w, pliki audio nale\u017cy dopasowa\u0107 z plikami tekstowymi"))),r.a.createElement("div",{className:"tool-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md"},r.a.createElement(ae,{whenDropped:this.handleDropAudio},r.a.createElement($,{whenFilesChose:this.whenAudioFilesChose,mainTitle:"Wgraj pliki z audio dysku",desc:"Pliki zostan\u0105 zapisane jedynie tymczasowo na potrzeby przetwarzania. Po tym czasie s\u0105 one usuwane bezpowrotnie usuwane z serwera"}))),r.a.createElement("div",{className:"col-md"},r.a.createElement(ae,{whenDropped:this.handleDropTxt},r.a.createElement($,{whenFilesChose:this.whenTxtFilesChose,mainTitle:"Wgraj pliki txt dysku",desc:"Pliki zostan\u0105 zapisane jedynie tymczasowo na potrzeby przetwarzania. Po tym czasie s\u0105 one usuwane bezpowrotnie usuwane z serwera"})))),r.a.createElement("div",{className:"file-list"},r.a.createElement("div",{className:["row","pairedItem","header-pair"].join(" ")},r.a.createElement("div",{className:"col-sm-auto pair-order"}),r.a.createElement("div",{className:"col-sm audio-info"},r.a.createElement("h4",null)),r.a.createElement("div",{className:"col-sm-auto pair-status"}),r.a.createElement("div",{className:"col-sm txt-info"},r.a.createElement("h4",null)),r.a.createElement("div",{className:"col-sm-auto pair-icons"})),r.a.createElement("div",{className:"row commonParent"},r.a.createElement("div",{className:"segmentEntriesBG"},t),r.a.createElement("div",{className:"col"},r.a.createElement(me,{items:this.props.audioList,onChange:function(t){e.props.onChangeAudioListOrder(t)}})),r.a.createElement("div",{className:"col"},r.a.createElement(fe,{items:this.props.txtList,onChange:function(t){e.props.onChangeTxtListOrder(t)}})))))),r.a.createElement(V,null)))}}]),t}(n.Component),ge=Object(y.b)(function(e){return{segmentEntry:e.segR.segmentEntry,audioList:e.segR.audioList,txtList:e.segR.txtList,refusedAudioFileList:e.segR.refusedAudioFileList,refusedTxtFileList:e.segR.refusedTxtFileList,modalDisplay:e.projectR.modal,ifRefusedAudio:e.segR.ifRefusedAudio}},function(e){return{onAudioDrop:function(t){return e(function(e){return{type:"DROP_AUDIO_FILES",audioFiles:e}}(t))},onTxtDrop:function(t){return e(function(e){return{type:"DROP_TXT_FILES",txtFiles:e}}(t))},onChangeAudioListOrder:function(t){return e({type:"CHANGE_AUDIO_LIST_ORDER",audioIdsOrder:t})},onChangeTxtListOrder:function(t){return e({type:"CHANGE_TXT_LIST_ORDER",txtIdsOrder:t})},onSetRefusionAudioFiles:function(t){return e({type:"REFUSE_SEGMENT_AUDIO_FILES",refusedFileList:t})},onSetRefusionTxtFiles:function(t){return e({type:"REFUSE_SEGMENT_TXT_FILES",refusedFileList:t})},onOpenModalHandler:function(){return e({type:"OPEN_MODAL_PROJECT"})},onCloseModalHandler:function(){return e({type:"CLOSE_MODAL_PROJECT"})}}})(Ee),he=a(19),ve=a(28),ye=a(106),je=a.n(ye),we=(a(184),function(e){function t(e){var a;Object(l.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).handleTogglePlay=function(){a.props.playing?a.wavesurfer.pause():a.wavesurfer.play(),a.props.onTooglePlaying()},a.handlePosChange=function(e){a.setState({pos:e.originalArgs[0]})},a.componentDidMount=function(){a.wavesurfer=je.a.create({container:"#waveform",waveColor:"#6f8796",progressColor:"#3498db",responsive:!0,plugins:[]}),a.wavesurfer.on("loading",function(e){}.bind(Object(ve.a)(a))),a.wavesurfer.on("ready",function(){this.updateAudioArea()}.bind(Object(ve.a)(a))),a.props.onWeveSurferInitialized(!0)},a.componentWillUnmount=function(){a.wavesurfer.stop(),a.props.onWeveSurferInitialized(!1),a.props.onAudioDisplayed(!1)},a.updateAudioArea=function(){a.props.onUpdateAudioArea(a.props.fileKey)},a.getExt=function(e){return null!=e.match(/(?:.+..+[^\/]+$)/gi)?e.split(".").slice(-1)[0]:"null"},a.txtAreaChangedHandler=function(e){a.props.onUpdateTxtArea(e.currentTarget.value,null)},a.onLoadAudioToWaveSurfer=function(e){console.log(e),a.wavesurfer.load(e)};return a.handleTogglePlay=a.handleTogglePlay.bind(Object(ve.a)(a)),a.handlePosChange=a.handlePosChange.bind(Object(ve.a)(a)),a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e;""!==this.props.txtfileName&&!1===this.props.txtDisplayed&&this.props.onUpdateTxtArea(this.props.txtContent,this.props.txtfileName),""!==this.props.audiofileName&&1==this.props.waveSurferInitialized&&!1===this.props.audioDisplayed&&this.onLoadAudioToWaveSurfer(this.props.audioFileUrl);var t=r.a.createElement("p",{style:{fontWeight:"bold"}},"Podgld pliku txt",r.a.createElement("span",{style:{fontSize:"bigger"}},this.props.txtfileName)),a=r.a.createElement("p",{style:{fontWeight:"bold"}},"Podgld pliku audio ",r.a.createElement("span",{style:{fontSize:"bigger"}},this.props.audiofileName)),n=r.a.createElement("button",{type:"button",onClick:this.handleTogglePlay,className:"btn btn-primary",id:"play"},this.props.playing?r.a.createElement("i",{className:"fas fa-pause"}):r.a.createElement("i",{className:"fas fa-play"}));return r.a.createElement(m,null,r.a.createElement(J,{czyTopPart:"true",desc:"W tym miejscu istnieje mo\u017cliwo\u015b\u0107 podgl\u0105du wyniku wykonywanych us\u0142ug oraz od\u0142uchania plik\xf3w d\u017awi\u0119kowych z repozytorium"}),r.a.createElement(B,null),r.a.createElement("section",{className:"Content","data-scrollbar":!0},r.a.createElement("div",{className:["container-fluid","TranscriptTool"].join(" ")},r.a.createElement("div",{className:"tool-desc"}),r.a.createElement("div",{className:"tool-body"},a,r.a.createElement("div",{id:"debuginfo"}),r.a.createElement("div",{id:"waveform"}),this.props.audioDisplayed?n:null,r.a.createElement("hr",null),r.a.createElement("div",{className:"form-group"},t,r.a.createElement("textarea",(e={className:"form-control"},Object(he.a)(e,"className","TranskriptInput"),Object(he.a)(e,"placeholder","Zaznacz plik txt w repozytorium"),Object(he.a)(e,"value",this.props.txtContent),Object(he.a)(e,"onChange",this.txtAreaChangedHandler),e))))),r.a.createElement(V,null)))}}]),t}(n.Component)),Ne=Object(y.b)(function(e){return{txtContent:e.previewR.txtContent,txtDisplayed:e.previewR.txtDisplayed,txtfileName:e.previewR.txtfileName,txtFileUrl:e.previewR.txtFileUrl,audiofileName:e.previewR.audiofileName,audioDisplayed:e.previewR.audioDisplayed,audioFileUrl:e.previewR.audioFileUrl,waveSurferInitialized:e.previewR.waveSurferInitialized,playing:e.previewR.playing}},function(e){return{onUpdateTxtArea:function(t,a){return e({type:"UPDATE_TXT_PREVIEW",newContent:t,fileName:a})},onUpdateAudioArea:function(t){return e(function(e){return{type:"UPDATE_AUDIO_PREVIEW",fileKey:e}}(t))},onWeveSurferInitialized:function(t){return e(function(e){return{type:"WAVESURFER_INITIALIZED",ifYes:e}}(t))},onTooglePlaying:function(){return e({type:"TOGGLE_PLAYING_PREVIEW"})},onAudioDisplayed:function(t){return e({type:"CHANGE_AUDIO_DISPLAYED",ifYes:t})}}})(Object(v.g)(we)),be=(a(185),a(107)),Oe=a.n(be),Ie=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={openPreview:!1},a.handleCreateFolder=function(e){a.props.onHandleCreateFolder(e,a.props.currentProjectID,a.props.currentProjectOwner,a.props.token)},a.handleCreateFiles=function(e,t){a.props.onHandleCreateFiles(e,t)},a.handleRenameFolder=function(e,t){a.props.onHandleRenameFolder(e,t,a.props.currentProjectID,a.props.currentProjectOwner,a.props.token)},a.handleRenameFile=function(e,t){a.props.onHandleRenameFile(e,t,a.props.currentProjectID,a.props.currentProjectOwner,a.props.token)},a.handleDeleteFolder=function(e){a.props.onHandleDeleteFolder(e,a.props.currentProjectID,a.props.currentProjectOwner,a.props.token)},a.handleDeleteFile=function(e){a.props.onHandleDeleteFile(e,a.props.currentProjectID,a.props.currentProjectOwner,a.props.token)},a.handleSelect=function(e){console.log("handleSelect"),console.log(e)},a.handleSelectFile=function(e){console.log("handleSelectFile"),console.log(e)},a.handleSelectFolder=function(e){console.log("handleSelectFolder"),console.log(e)},a.handlePreviewOpen=function(e){var t=!0;if(!a.props.location.pathname.includes("preview")){var n=a.props.match.url+"/preview";t=!1,a.props.history.push({pathname:n})}var r=K(e.url)[0];"txt"===r||"ctm"===r||"zip"===r||"json"===r||"TXT"===r||"CTM"===r||"ZIP"===r||"JSON"===r?e.url!==a.props.txtFileUrl&&a.props.onOpenTxtFileToPreview(e,t):"wav"!==r&&"mp3"!==r&&"au"!==r&&"WAV"!==r&&"MP3"!==r&&"AU"!==r||e.url!==a.props.audioFileUrl&&a.props.onOpenAudioFileToPreview(e,t)},a.handlePreviewClose=function(e){console.log("handlePreviewClose"),console.log(e)},a.handleFolderOpen=function(e){console.log("handleFolderOpen"),console.log(e)},a.handleFolderClose=function(e){console.log("handleFolderClose"),console.log(e)},a.startResizeRepo=function(){window.addEventListener("mousemove",a.Resize,!1),window.addEventListener("mouseup",a.stopResize,!1)},a.Resize=function(e){var t=document.getElementById("RepoBar"),a=document.getElementById("ProjectPage"),n=document.getElementById("LeftSiteBar"),r=window.innerWidth-e.clientX,o=window.innerWidth-n.offsetWidth-r;t.style.width=r+"px",a.style.width=o+"px"},a.stopResize=function(e){window.removeEventListener("mousemove",a.Resize,!1),window.removeEventListener("mouseup",a.stopResize,!1)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.currentProjectID,t=this.props.currentProjectOwner;this.props.onGetProjectFilesForUser(t,e,this.props.token)}},{key:"render",value:function(){window.addEventListener("onresize",this.Resize,!1);var e=document.querySelectorAll("div.demo-mount-nested-editable");return r.a.createElement(m,null,r.a.createElement("div",{className:"RepoBar",id:"RepoBar"},r.a.createElement("div",{className:"topPart"},r.a.createElement("div",{className:"repoTab"},r.a.createElement("div",{className:"scrollStrip",onMouseDown:this.startResizeRepo},r.a.createElement("i",{className:"fas fa-arrows-alt-h"})),"Repozytorium")),r.a.createElement("div",{className:"mainRepoContent","data-scrollbar":!0},r.a.createElement(Oe.a,{files:this.props.files,icons:{File:r.a.createElement("i",{className:"fas fa-file"}),Image:r.a.createElement("i",{className:"fas fa-image"}),PDF:r.a.createElement("i",{className:"fas fa-file-pdf"}),Rename:r.a.createElement("i",{className:"fas fa-edit"}),Folder:r.a.createElement("i",{className:"fas fa-folder"}),FolderOpen:r.a.createElement("i",{className:"fas fa-folder-open"}),Delete:r.a.createElement("i",{className:"fas fa-trash"}),Loading:r.a.createElement("i",{className:"fas fa-spinner"})},onCreateFolder:this.handleCreateFolder,onCreateFiles:this.handleCreateFiles,onMoveFolder:this.handleRenameFolder,onMoveFile:this.handleRenameFile,onRenameFolder:this.handleRenameFolder,onRenameFile:this.handleRenameFile,onDeleteFolder:this.handleDeleteFolder,onDeleteFile:this.handleDeleteFile,onSelect:this.handleSelect,onSelectFile:this.handleSelectFile,onSelectFolder:this.handleSelectFolder,onPreviewOpen:this.handlePreviewOpen,onPreviewClose:this.handlePreviewClose,onFolderOpen:this.handleFolderOpen,onFolderClose:this.handleFolderClose}),e[0])))}}]),t}(n.Component),Re=Object(y.b)(function(e){return{currentProjectID:e.projectR.currentProjectID,currentProjectName:e.projectR.currentProjectName,currentProjectOwner:e.projectR.currentProjectOwner,files:e.repoR.files,token:e.homeR.token,txtDisplayed:e.previewR.txtDisplayed,txtfileName:e.previewR.txtfileName,txtFileUrl:e.previewR.txtFileUrl,audiofileName:e.previewR.audiofileName,audioDisplayed:e.previewR.audioDisplayed,audioFileUrl:e.previewR.audioFileUrl,waveSurferInitialized:e.previewR.waveSurferInitialized,playing:e.previewR.playing}},function(e){return{onHandleCreateFolder:function(t,a,n,r){return e(function(e,t,a,n){return console.log("CREATE NEW FOLDER:"+e),function(r){N.a.post("/repoFiles/createFolder/",{key:e,projectId:t,userId:a},{headers:{Authorization:"Bearer "+n}}).then(function(e){var t,a;console.log(e),r((t=e.data.key,a=e.data.message,{type:"REPO_CREATE_FOLDER",key:t,message:a}))}).catch(function(e){r(function(e){return{type:"REPO_CREATE_FOLDER_FAILED",error:e.toString()}}(e))})}}(t,a,n,r))},onHandleCreateFiles:function(t,a){return e(function(e,t){return console.log("CREATE NEW FILES:"+e),function(a){a(function(e,t){return{type:"REPO_CREATE_FILES",files:e,prefix:t}}(e,t))}}(t,a))},onHandleRenameFolder:function(t,a,n,r,o){return e(function(e,t,a,n,r){return console.log("RENAME FOLDER:"+e+" into "+t),function(o){N.a.put("/repoFiles/renameFolder/",{oldKey:e,newKey:t,userId:n,projectId:a},{headers:{Authorization:"Bearer "+r}}).then(function(e){var t,a,n;console.log(e),o((t=e.data.oldKey,a=e.data.newKey,n=e.data.message,{type:"REPO_RENAME_FOLDER",oldKey:t,newKey:a,message:n}))}).catch(function(e){o(O(e))})}}(t,a,n,r,o))},onHandleRenameFile:function(t,a,n,r,o){return e(function(e,t,a,n,r){return console.log("RENAME FILE:"+e+" into "+t),console.log("projectId:"+a),console.log("token:"+r),function(o){N.a.put("/repoFiles/renameFile/",{oldKey:e,newKey:t,projectId:a,userId:n},{headers:{Authorization:"Bearer "+r}}).then(function(e){var t,a,n;console.log(e),o((t=e.data.oldKey,a=e.data.newKey,n=e.data.message,{type:"REPO_RENAME_FILE",oldKey:t,newKey:a,message:n}))}).catch(function(e){o(O(e))})}}(t,a,n,r,o))},onHandleDeleteFolder:function(t,a,n,r){return e(function(e,t,a,n){return console.log("DELETE FOLDER:"+e),function(r){N.a.delete("/repoFiles/deleteFolder/",{data:{folderKey:e,projectId:t,userId:a},headers:{Authorization:"Bearer "+n}}).then(function(e){r({type:"REPO_DELETE_FOLDER",folderKey:e.data.folderKey})}).catch(function(e){console.log(e),r(function(e){return{type:"REPO_DELETE_FOLDER_FAILED",error:e.toString()}}(e))})}}(t,a,n,r))},onHandleDeleteFile:function(t,a,n,r){return e(function(e,t,a,n){return console.log("DELETE FILE:"+e),function(r){N.a.delete("/repoFiles/deleteFile/"+t,{data:{fileKey:e,projectId:t,userId:a},headers:{Authorization:"Bearer "+n}}).then(function(e){var t,a;r((t=e.data.fileKey,a=e.data.message,{type:"REPO_DELETE_FILE",fileKey:t,message:a}))}).catch(function(e){console.log(e),r(function(e){return{type:"REPO_DELETE_FILE_FAILED",error:e.toString()}}(e))})}}(t,a,n,r))},onGetProjectFilesForUser:function(t,a,n){return e(b(t,a,n))},onOpenTxtFileToPreview:function(t,a){return e(function(e){return function(t){fetch(e.url).then(function(a){a.text().then(function(a){t(function(e,t,a){return{type:"OPEN_TXT_FILE_PREVIEW",fileUrl:t,fileContent:a,fileKey:e}}(e.key,e.url,a))})}).catch(function(e){console.log(e)})}}(t))},onOpenAudioFileToPreview:function(t,a){return e(function(e,t){return function(a){a(function(e,t,a){return{type:"OPEN_AUDIO_FILE_PREVIEW",fileUrl:t,fileKey:e,waveSurferInitialized:a}}(e.key,e.url,t))}}(t,a))}}})(Object(v.g)(Ie)),ke=function(e){return r.a.createElement(m,null,r.a.createElement("p",null,"Ups.... co\u015b posz\u0142o nie tak"))},Le=(a(296),Object(v.g)(function(e){return r.a.createElement(m,null,r.a.createElement("li",{className:"nav-item"},r.a.createElement(h.c,{className:["nav-link","clarinNavLink"].join(" "),to:{pathname:e.match.url+""+e.whereToLink,search:"",activeClassName:"active"}},e.title)))})),Te=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).componentWillMount=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiryDate");if(e&&t)if(new Date(t)<=new Date)a.props.onLogOut();else{var n=localStorage.getItem("userId"),r=localStorage.getItem("userName");new Date(t).getTime(),(new Date).getTime();console.log(n),console.log(r),console.log(e),a.props.onSetLoggedIn(n,r,e);var o=a.props.currentProjectID,i=a.props.currentProjectName,l=a.props.currentProjectOwner;console.log(o),console.log(i),console.log(l),a.props.onInitProjectHandler(o,i,l),a.props.onClearRecoStore(),a.props.onClearSegmentStore(),a.props.onClearPreviewStore()}},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(m,null,r.a.createElement(W,{version:"longinit",wide:"yes",language:"pl",projectTitle:""+this.props.currentProjectName,changeLn:this.props.changeLn,currLn:this.props.currLn}),r.a.createElement("div",{className:"ProjectPage",id:"ProjectPage"},r.a.createElement("ul",{className:["nav nav-tabs","darkbg"].join(" ")},r.a.createElement(Le,{title:"Dashboard",whereToLink:"/dashboard"}),r.a.createElement(Le,{title:"Rozpoznawanie",whereToLink:"/recognition"}),r.a.createElement(Le,{title:"Sementacja",whereToLink:"/segment"}),r.a.createElement(Le,{title:"Podgl\u0105d plik\xf3w",whereToLink:"/preview"})),r.a.createElement(v.d,null,r.a.createElement(v.b,{path:this.props.match.url+"/recognition",component:se}),r.a.createElement(v.b,{path:this.props.match.url+"/segment",component:ge}),r.a.createElement(v.b,{path:this.props.match.url+"/preview",component:Ne}),r.a.createElement(v.b,{path:this.props.match.url+"/dashboard",render:function(e){return r.a.createElement(Z,null)}}),r.a.createElement(v.a,{from:this.props.match.url+"/",to:this.props.match.url+"/dashboard"}),r.a.createElement(v.b,{component:ke}))),r.a.createElement(Re,null))}}]),t}(n.Component),ze=Object(y.b)(function(e){return{currentProjectID:e.prolistR.chosenProjectID,currentProjectName:e.prolistR.chosenProjectName,currentProjectOwner:e.prolistR.chosenProjectOwner}},function(e){return{onInitProjectHandler:function(t,a,n){return e(function(e,t,a){return{type:"INIT_PROJECT",projectId:e,projectTitle:t,projectOwner:a}}(t,a,n))},onSetLoggedIn:function(t,a,n){return e(k(t,a,n))},onLogOut:function(){return e(R())},onClearRecoStore:function(){return e({type:"CLEAR_RECO_STORE"})},onClearSegmentStore:function(){return e({type:"CLEAR_SEGMENT_STORE"})},onClearPreviewStore:function(){return e({type:"CLEAR_PREVIEW_STORE"})}}})(Te),Pe=(a(297),function(e){return r.a.createElement(m,null,r.a.createElement("tr",{className:"ProjectListItem"},r.a.createElement("td",{className:"projectTitle"},r.a.createElement("a",{onClick:e.wyborprojektu},e.title)),r.a.createElement("td",null,e.modified),r.a.createElement("td",null,r.a.createElement("span",{onClick:e.editName},r.a.createElement("i",{className:["fas","fa-pen","ProjectIcon"].join(" ")})),r.a.createElement("span",{onClick:e.deleteProject},r.a.createElement("i",{className:["fas","fa-trash-alt","ProjectIcon"].join(" ")})))))}),De=(a(298),function(e){e.ifLoading;var t=r.a.createElement("tr",{className:"thead-dark"},r.a.createElement("td",{className:"title"},"Tytu\u0142"),r.a.createElement("td",null,"Data utworzenia"),r.a.createElement("td",null,"Akcje"));return r.a.createElement(m,null,r.a.createElement("div",{className:"ProjectList"},e.siteBar,r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,t,e.children))))}),Se=(a(299),function(e){return r.a.createElement("div",{className:"Spinner"},r.a.createElement("div",{className:"lds-facebook"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)))}),Fe=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={value:"",isValid:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.errorMessage||!1;return r.a.createElement("form",{onSubmit:this.props.onSubmitHandler},r.a.createElement("h5",{style:{textAlign:"left"}},this.props.title),r.a.createElement("hr",null),!1!==e?r.a.createElement("div",{className:"alert alert-danger",role:"alert"},this.props.errorMessage):null,r.a.createElement("div",{className:"input-group mb-3"},r.a.createElement("input",{type:"text",className:"form-control",placeholder:this.props.placeholder,onChange:this.props.onChangeHandler,value:this.props.value}),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn btn-primary",type:"submit"},this.props.buttonLabel))))}}]),t}(n.Component),Ae=function(e){return r.a.createElement(m,null,r.a.createElement("div",{className:"alert alert-warning",role:"alert"},r.a.createElement("p",{style:{textAlign:"center"}},e.messageQuestion),r.a.createElement("p",{style:{textAlign:"center",fontWeight:"bold"}},e.projectName)),r.a.createElement("button",{className:"btn btn-outline-secondary",onClick:e.onCancel},"Cancel"),r.a.createElement("button",{className:"btn btn-primary",onClick:e.onOk},"OK"))},_e="CREATE_NEW_PROJECT",Ce="EDIT_NAME_PROJECT",xe="DELETE_PROJECT",Me=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={modalDisplay:!1,newProjectName:"",modalTitle:"",currentValue:""},a.componentDidMount=function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiryDate");if(e&&t)if(new Date(t)<=new Date)a.props.onLogOut();else{var n=localStorage.getItem("userId"),r=localStorage.getItem("userName");new Date(t).getTime(),(new Date).getTime();console.log(n),console.log(r),console.log(e),a.props.onSetLoggedIn(n,r,e),a.props.onGetProjectsList(n,e)}},a.duplicateProjectHandler=function(e){alert("duplicate")},a.editNameProjectHandler=function(e){alert("edit")},a.shareProjectHandler=function(e){alert("share")},a.removeProjectHandler=function(e){alert("remove")},a.checkValidity=function(e){return!0},a.addNewProjectHandler=function(e){e.preventDefault(),a.checkValidity(a.state.newProjectName)?a.props.onNewProject(a.state.newProjectName,a.props.userId,a.props.token):console.log("FORM IS INVALID!")},a.newProjectNameChangeHandler=function(e){console.log("newProjectNameChangeHandler"),e.preventDefault(),a.setState({newProjectName:e.target.value})},a.editProjectNameSubmitHandler=function(e){e.preventDefault(),a.props.onNameEdit(a.props.projectId,a.state.newProjectName,a.props.userId,a.props.token)},a.onNewProjectDone=function(){a.closeModalHandler()},a.openModalHandler=function(e,t,n){a.setState({newProjectName:n}),a.props.onOpenModalHandler(e,t,n)},a.closeModalHandler=function(){a.props.onCloseModalHandler()},a.removeProjectHandler=function(e){a.props.onDelete(e,a.props.userId,a.props.token)},a.wyborProjektuOK=function(e,t,n){a.props.onProjectChoice(e,t,n),a.props.history.push("/projects/"+e)},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=r.a.createElement(m,null,r.a.createElement(Fe,{onSubmitHandler:this.addNewProjectHandler,onChangeHandler:this.newProjectNameChangeHandler,title:"Stworz nowy projekt",placeholder:"Podaj nazwe projektu",buttonLabel:"Dodaj projekt",value:this.state.newProjectName,errorMessage:this.props.errorMessage})),a=r.a.createElement(m,null,r.a.createElement(Fe,{onSubmitHandler:this.editProjectNameSubmitHandler,onChangeHandler:this.newProjectNameChangeHandler,title:"Edytuj nazwe projektu",placeholder:"Zmie nazwe projektu",buttonLabel:"Zmien",value:this.state.newProjectName,errorMessage:this.props.errorMessage})),n=r.a.createElement(m,null,r.a.createElement(Ae,{messageQuestion:"Czy na pewnoe chcesz usunac projekt?",onCancel:this.closeModalHandler,onOk:function(t){return e.removeProjectHandler(e.props.projectId)},projectName:this.props.projectName})),o=null;switch(this.props.localAction){case _e:o=t;break;case Ce:o=a;break;case xe:o=n;break;default:o=r.a.createElement("p",null,"Bledny typ akcji lokalnej")}var i=r.a.createElement(J,{czyTopPart:!1,desc:"W tym miejscu mo\u017cna tworzy\u0107 nowe projekty kt\xf3re stanowi\u0105 przestrze\u0144 robocz\u0105 dla wgranych plik\xf3w. Projekty s\u0105 przydzielane i wydoczne tylko dla zalogowanego u\u017cytkownika. UWAGA! w przypadku usuni\u0119cia projektu, zostan\u0105 usuni\u0119te r\xf3wnie\u017c wszystkie wgrane do niego pliki"},r.a.createElement(Q,{customeStyle:{height:"50px"},napis:"Dodaj projekt",iconType:"fa-plus",whenClicked:function(t){return e.openModalHandler(_e,"","")}})),l=null,s=null;return this.props.ifError?l=r.a.createElement("p",{className:"error"},"Error with connecting to server"):this.props.ifProjectsLoading?l=r.a.createElement(Se,null):(s=this.props.projectList.map(function(t,a){return r.a.createElement(Pe,{key:t._id,projektID:t._id,title:t.name,owner:t.owner,modified:t.projectCreated,deleteProject:function(a,n,r){return e.openModalHandler(xe,t._id,t.name)},wyborprojektu:function(a,n,r){return e.wyborProjektuOK(t._id,t.name,t.owner)},editName:function(a,n,r){return e.openModalHandler(Ce,t._id,t.name)}})}),l=r.a.createElement(De,{siteBar:i},s)),r.a.createElement(m,null,r.a.createElement(v.b,{path:"/project/",render:function(e){return r.a.createElement(ze,e)}}),r.a.createElement(re,{show:this.props.modalDisplay,modalClosed:this.closeModalHandler},o),r.a.createElement(W,{version:"init",wide:"yes",language:"pl",projectTitle:"",changeLn:this.props.changeLn,currLn:this.props.currLn}),i,l)}}]),t}(n.Component),He=Object(y.b)(function(e){return{userId:e.homeR.userId,userName:e.homeR.userName,token:e.homeR.token,localAction:e.prolistR.localAction,modalDisplay:e.prolistR.modalDisplay,newProjectCreated:e.prolistR.loaded,projectList:e.prolistR.projects,ifError:e.prolistR.error,errorMessage:e.prolistR.errorMessage,ifProjectsLoading:e.prolistR.projectsLoading,projectId:e.prolistR.projectId,projectName:e.prolistR.projectName}},function(e){return{onOpenModalHandler:function(t,a,n){return e(function(e,t,a){return{type:"OPEN_MODAL",localActionType:e,projectId:t,projectName:a}}(t,a,n))},onCloseModalHandler:function(){return e({type:"CLOSE_MODAL"})},onNewProjectDone:function(){return e({type:"ADD_PROJECT_DONE"})},onNewProject:function(t,a,n){return e(function(e,t,a){return function(n){n({type:"ADD_PROJECT_INIT"}),N.a.post("/projectsList",{projectName:e},{headers:{Authorization:"Bearer "+a}}).then(function(r){n(function(e,t,a,n,r){return{type:"ADD_PROJECT",projectName:e,messageFromServer:t,responsedNewProject:a,userId:n,token:r}}(e,r.data.message,r.data.project,t,a)),n({type:"ADD_PROJECT_DONE"})}).catch(function(e){n(function(e){return{type:"ADD_PROJECT_FAILED",errorMessage:e}}(e))})}}(t,a,n))},onProjectChoice:function(t,a,n){return e(function(e,t,a){return{type:"CHOSE_PROJECT",projectId:e,projectName:t,projectOwner:a}}(t,a,n))},onDelete:function(t,a,n){return e(function(e,t,a){return function(n){N.a.delete("/projectsList/"+e,{data:{idprojektu:e},headers:{Authorization:"Bearer "+a}}).then(function(e){if(200!==e.status&&201!==e.status)throw new Error("Deleting a project failed");n(function(e,t,a,n){return{type:"REMOVE_PROJECT",projectId:e,message:t,userId:a,token:n}}(e.data.projectId,e.data.message,t,a)),n({type:"CLOSE_MODAL"})}).catch(function(e){console.log(e)})}}(t,a,n))},onNameEdit:function(t,a,n,r){return e(function(e,t,a,n){return function(r){N.a.put("/projectsList/"+e,{newProjectName:t,projectId:e},{headers:{Authorization:"Bearer "+n}}).then(function(e){r(function(e,t,a,n,r){return{type:"EDIT_NAME",projectId:e,newProjectName:t,message:a,userId:n,token:r}}(e.data.projectEntry._id,e.data.projectEntry.name,e.data.message,a,n)),r({type:"CLOSE_MODAL"})}).catch(function(e){console.log(e),r(function(e){return{type:"EDIT_NAME_FAILED",error:e.message}}(e))})}}(t,a,n,r))},onGetProjectsList:function(t,a){return e(function(e,t){return function(a){N.a.get("/projectsList",{headers:{Authorization:"Bearer "+t}}).then(function(t){console.log(t),a(function(e,t){return{type:"GET_PROJECTS_LIST",userId:e,projects:t}}(e,t.data.projects))}).catch(function(e){a(function(e){return{type:"GET_PROJECTS_LIST_FAILED",error:e}}(e))})}}(t,a))},onSetLoggedIn:function(t,a,n){return e(k(t,a,n))},onLogOut:function(){return e(R())}}})(Object(v.g)(Me)),Ue=(a(300),function(e){return r.a.createElement(m,null,r.a.createElement(W,{version:"init",wide:"no",language:"pl",projectTitle:"",changeLn:e.changeLn,currLn:e.currLn}),r.a.createElement("div",{className:"container HelpPage"},r.a.createElement("p",null),r.a.createElement("div",{className:"faq"},r.a.createElement("h5",null,"W jakim celu nale\u017cy si\u0119 zarejestrowa\u0107?"),r.a.createElement("p",null,"Dzi\u0119ki rejestracji istnieje mo\u017cliwo\u015b\u0107 zarz\u0105dzania swoimi plikami w obr\u0119bie tworzonych projekt\xf3w. Ponadto przydzielana jest prywatna przestrze\u0144 na pliki u\u017cytkownika.")),r.a.createElement("div",{className:"faq"},r.a.createElement("h5",null,"Zapomnia\u0142em has\u0142o, co robi\u0107?"),r.a.createElement("p",null,"P\xf3ki co serwis nie posiada funkcjonalno\u015bci przypomnienia has\u0142a. Napisz do nas maila (adres w stopce na dole strony) aby\u015bmy mogli zresetowa\u0107 has\u0142o za Ciebie.")),r.a.createElement("div",{className:"faq"},r.a.createElement("h5",null,"Czy moje pliki s\u0105\xa0bezpieczne?"),r.a.createElement("p",null,"Pliki s\u0105 przechowywane w centralnym repozytorium do kt\xf3rego dost\u0119p posiada tylko zarejestrowana osoba. Pliki mo\u017cna ewentualnie usun\u0105\u0107 po zapisaniu wynik\xf3w us\u0142ug."))))}),We=a(108),Ge=a.n(We),Be=a(109),Ve=a.n(Be),Je=a(110),Ke=a(111);Object(f.b)([].concat(Object(p.a)(Ge.a),Object(p.a)(Ve.a)));var Ye={pl:Je,en:Ke},Ze=(navigator.language.split(/[-_]/)[0],function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currln:"pl"},a.logoutHandler=function(){a.props.onLogout()},a.setAutoLogout=function(e){setTimeout(function(){a.logoutHandler()},e)},a.changeLnHandler=function(e){a.setState({currln:e})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("token"),t=localStorage.getItem("expiryDate");if(e&&t)if(new Date(t)<=new Date)this.logoutHandler();else{var a=localStorage.getItem("userId"),n=localStorage.getItem("userName"),r=new Date(t).getTime()-(new Date).getTime();this.props.onSetLoggedIn(a,n,e),this.setAutoLogout(r)}}},{key:"render",value:function(){var e=this;return this.props.chosenProjectID,r.a.createElement("div",{className:"App"},r.a.createElement(f.a,{locale:this.state.currln,defaultLocale:"pl",messages:Ye[this.state.currln]},r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/projects/:projectID",render:function(t){return r.a.createElement(ze,Object.assign({},t,{changeLn:e.changeLnHandler,currLn:e.state.currln}))}}),r.a.createElement(v.b,{path:"/projectsList",render:function(t){return r.a.createElement(He,Object.assign({},t,{changeLn:e.changeLnHandler,currLn:e.state.currln}))}}),r.a.createElement(v.b,{path:"/help",render:function(t){return r.a.createElement(Ue,Object.assign({},t,{changeLn:e.changeLnHandler,currLn:e.state.currln}))}}),r.a.createElement(v.b,{path:"/",render:function(t){return r.a.createElement(G,Object.assign({},t,{changeLn:e.changeLnHandler,currLn:e.state.currln}))}}))))}}]),t}(n.Component)),Xe=Object(y.b)(function(e){return{isAuth:e.homeR.isAuth,chosenProjectID:e.prolistR.chosenProjectID}},function(e){return{onLogout:function(){return e(R())},onSetLoggedIn:function(t,a,n){return e(k(t,a,n))}}})(Ze);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var qe=a(29),$e=function(e,t){return Object(g.a)({},e,t)},Qe={isAuth:!1,email:"",pass:"",userName:"",registrationMessage:"",loginMessage:"",resRegistrationStatus:0,resLoginStatus:0,token:"",authLoading:!1,userId:"",error:"",autoLogoutAfter:0},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOG_IN":return function(e,t){return $e(e,{isAuth:t.isAuth,userName:t.userName,token:t.token,authLoading:t.authLoading,userId:t.userId,resLoginStatus:t.resLoginStatus})}(e,t);case"LOG_OUT":return function(e,t){var a;return localStorage.removeItem("token"),localStorage.removeItem("expiryDate"),localStorage.removeItem("userId"),localStorage.removeItem("userName"),$e(e,(a={isAuth:!1,token:"",userId:"",email:"",pass:"",userName:"",registrationMessage:"",loginMessage:"",resRegistrationStatus:0,resLoginStatus:0},Object(he.a)(a,"token",""),Object(he.a)(a,"authLoading",!1),Object(he.a)(a,"error",""),Object(he.a)(a,"autoLogoutAfter",0),a))}(e);case"LOG_IN_FAILED":return function(e,t){return $e(e,{isAuth:t.isAuth,token:t.token,authLoading:t.authLoading,userId:t.userId,loginMessage:t.message,resLoginStatus:t.resLoginStatus})}(e,t);case"REGISTER":return function(e,t){var a=t.message,n=(t.userId,t.resRegistrationStatus);return $e(e,{isAuth:!1,registrationMessage:a,resRegistrationStatus:n})}(e,t);case"REGISTER_FAILED":return function(e,t){var a=t.message;return $e(e,{isAuth:!1,registrationMessage:a,resRegistrationStatus:t.resRegistrationStatus})}(e,t);case"SET_AUTO_LOGOUT":return function(e,t){var a=t.autoLogoutAfter;return $e(e,{autoLogoutAfter:a})}(e,t)}return e},tt={projects:[],error:!1,projectsLoading:!0,chosenProjectID:"",chosenProjectName:"",chosenProjectOwner:"",loaded:!1,errorMessage:"",modalDisplay:!1,localAction:"",projectId:"",projectName:""},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PROJECTS_LIST":return function(e,t){return $e(e,{projects:t.projects,error:!1,projectsLoading:!1})}(e,t);case"GET_PROJECTS_LIST_FAILED":return function(e,t){return console.log(t),$e(e,{error:!0,loaded:!1,errorMessage:t.errorMessage})}(e,t);case"CHOSE_PROJECT":return function(e,t){return $e(e,{chosenProjectID:t.projectId,chosenProjectName:t.projectName,chosenProjectOwner:t.projectOwner})}(e,t);case"ADD_PROJECT_INIT":return function(e,t){return $e(e,{loaded:!1})}(e);case"ADD_PROJECT_DONE":return function(e,t){return $e(e,{loaded:!0,errorMessage:"",modalDisplay:!1})}(e);case"ADD_PROJECT":return function(e,t){var a=[t.responsedNewProject].concat(Object(p.a)(e.projects));return $e(e,{projects:a,loaded:!0})}(e,t);case"ADD_PROJECT_FAILED":return function(e,t){return $e(e,{errorMessage:t.errorMessage.response.data.message})}(e,t);case"DUPLICATE_PROJECT":case"SHARE_PROJECT":return function(e,t){return $e(e,{})}(e);case"REMOVE_PROJECT":return function(e,t){var a=t.projectId,n=(t.message,Object(p.a)(e.projects)),r=0,o=n.map(function(e,t){if(e._id!==a)return e;r=t});return o=[].concat(Object(p.a)(o.slice(0,r)),Object(p.a)(o.slice(r+1))),$e(e,{projects:o})}(e,t);case"EDIT_NAME":return function(e,t){var a=t.projectId,n=t.newProjectName,r=t.message;console.log(a),console.log(n),console.log(r);var o=Object(p.a)(e.projects).map(function(e){return e._id!==a?e:Object(g.a)({},e,{name:n})});return $e(e,{projects:o,errorMessage:"",error:!1})}(e,t);case"EDIT_NAME_FAILED":return function(e,t){var a=t.error;return $e(e,{errorMessage:a,error:!0})}(e,t);case"OPEN_MODAL":return function(e,t){return $e(e,{modalDisplay:!0,localAction:t.localActionType,projectId:t.projectId,projectName:t.projectName})}(e,t);case"CLOSE_MODAL":return function(e,t){return $e(e,{modalDisplay:!1})}(e)}return e},nt={filesToUpload:[],refusedFileList:[],modal:!1,recoFileForPreview:""},rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DROP_FILES":return function(e,t){var a=[].concat(Object(p.a)(e.filesToUpload),Object(p.a)(t.files));return $e(e,{filesToUpload:a})}(e,t);case"INIT_BATCH_RECOGNITION":return function(e,t){return console.log("INIT BATCH RECOGNITION"),e.filesToUpload.length,$e(e,{})}(e);case"INIT_BATCH_RECOGNITION":return function(e,t){return $e(e,{})}(e);case"UPDATE_FILE_STATE":return function(e,t){for(var a=t.fileID,n=t.status,r=(t.percLoaded,Object(p.a)(e.filesToUpload)),o=0;o<r.length;o++)if(r[o].id===a){var i=Object.assign({},r.find(function(e){return e.id==a}));i.status=n,r[o]=i;break}return $e(e,{filesToUpload:r})}(e,t);case"REMOVE_RECOGNITION_ITEM":return function(e,t){var a=t.fileId,n=e.filesToUpload.filter(function(e,t){return e.id!==a});return $e(e,{filesToUpload:n})}(e,t);case"OPEN_AUDIO_RECOGNITION_PREVIEW":return function(e,t){var a=t.fileID,n=e.filesToUpload.find(function(e){return e.id==a});return console.log(n.file),$e(e,{recoFileForPreview:n.file})}(e,t);case"CLEAR_RECO_STORE":return function(e,t){return $e(e,{filesToUpload:[],modal:!1,recoFileForPreview:""})}(e);case"REFUSE_RECO_FILES":return function(e,t){return $e(e,{refusedFileList:t.refusedFileList})}(e,t)}return e},ot={segmentEntry:[],audioList:[],txtList:[],refusedAudioFileList:[],refusedTxtFileList:[],ifRefusedAudio:!0},it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DROP_AUDIO_FILES":return function(e,t){var a=[],n=[].concat(Object(p.a)(e.audioList),Object(p.a)(t.audioFiles));if(n.length>=e.txtList.length){var r=n.length-e.txtList.length,o=[].concat(Object(p.a)(e.txtList),Object(p.a)(new Array(r)));a=n.map(function(e,t){var a="novalid",n=o[t];return a=void 0===n?"novalid":"valid",{audioEntry:Object.assign({},e),txtEntry:Object.assign({},n),status:a,processingStatus:"prepared",id:ie.a.v4()}})}else{var i=e.txtList.length-n.length,l=[].concat(Object(p.a)(n),Object(p.a)(new Array(i)));a=e.txtList.map(function(e,t){var a="novalid";return a=void 0===l[t]?"novalid":"valid",{audioEntry:Object.assign({},l[t]),txtEntry:Object.assign({},e),status:a,processingStatus:"prepared",id:ie.a.v4()}})}return $e(e,{audioList:n,segmentEntry:a})}(e,t);case"DROP_TXT_FILES":return function(e,t){var a=[],n=[].concat(Object(p.a)(e.txtList),Object(p.a)(t.txtFiles));if(n.length>=e.audioList.length){var r=n.length-e.audioList.length,o=[].concat(Object(p.a)(e.audioList),Object(p.a)(new Array(r)));a=n.map(function(e,t){var a="novalid";return a=void 0===o[t]?"novalid":"valid",{audioEntry:Object.assign({},o[t]),txtEntry:Object.assign({},e),status:a,processingStatus:"prepared",id:ie.a.v4()}})}else{var i=e.audioList.length-n.length,l=[].concat(Object(p.a)(n),Object(p.a)(new Array(i)));a=e.audioList.map(function(e,t){var a="novalid";return a=void 0===l[t]?"novalid":"valid",{audioEntry:Object.assign({},e),txtEntry:Object.assign({},l[t]),status:a,processingStatus:"prepared",id:ie.a.v4()}})}return $e(e,{txtList:n,segmentEntry:a})}(e,t);case"CHANGE_AUDIO_LIST_ORDER":return function(e,t){var a=[],n=t.audioIdsOrder.map(function(t){return Object.assign({},e.audioList.find(function(e){return e.id===t}))});if(n.length>=e.txtList.length){var r=n.length-e.txtList.length,o=[].concat(Object(p.a)(e.txtList),Object(p.a)(new Array(r)));a=n.map(function(e,t){var a="novalid";return a=void 0===o[t]?"novalid":"valid",{audioEntry:Object.assign({},e),txtEntry:Object.assign({},o[t]),status:a,processingStatus:"prepared",id:ie.a.v4()}})}else{var i=e.txtList.length-n.length,l=[].concat(Object(p.a)(n),Object(p.a)(new Array(i)));a=e.txtList.map(function(e,t){var a="novalid";return a=void 0===l[t]?"novalid":"valid",{audioEntry:Object.assign({},l[t]),txtEntry:Object.assign({},e),status:a,processingStatus:"prepared",id:ie.a.v4()}})}return $e(e,{audioList:n,segmentEntry:a})}(e,t);case"CHANGE_TXT_LIST_ORDER":return function(e,t){var a=[],n=t.txtIdsOrder.map(function(t){return Object.assign({},e.txtList.find(function(e){return e.id===t}))});if(n.length>=e.audioList.length){var r=n.length-e.audioList.length,o=[].concat(Object(p.a)(e.audioList),Object(p.a)(new Array(r)));a=n.map(function(e,t){var a="novalid";return a=void 0===o[t]?"novalid":"valid",{audioEntry:Object.assign({},o[t]),txtEntry:Object.assign({},e),status:a,processingStatus:"prepared",id:ie.a.v4()}})}else{var i=e.audioList.length-n.length,l=[].concat(Object(p.a)(n),Object(p.a)(new Array(i)));console.log(l),a=e.audioList.map(function(e,t){var a="novalid";return a=void 0===l[t]?"novalid":"valid",{audioEntry:Object.assign({},e),txtEntry:Object.assign({},l[t]),status:a,processingStatus:"prepared",id:ie.a.v4()}})}return $e(e,{txtList:n,segmentEntry:a})}(e,t);case"INIT_FILE_SEGMENTATION":return function(e,t){var a=t.entryId,n=e.segmentEntry.map(function(e,t){var n=Object.assign({},e);return n.id===a&&(n.processingStatus="inProgress"),n});return $e(e,{segmentEntry:n})}(e,t);case"REMOVE_SEGMENT_ENTRY":return function(e,t){var a=t.entryId,n="",r="",o=e.segmentEntry.filter(function(e,t){var o=!0;return e.id!==a?o=!0:(o=!1,n=e.audioEntry.id,r=e.txtEntry.id),o}),i=e.audioList.filter(function(e,t){return e.id!==n}),l=e.txtList.filter(function(e,t){return e.id!==r});return console.log(a),console.log(n),console.log(r),$e(e,{segmentEntry:o,audioList:i,txtList:l})}(e,t);case"CLEAR_SEGMENT_STORE":return function(e,t){return $e(e,{segmentEntry:[],audioList:[],txtList:[]})}(e);case"FILE_SEGMENTATION_SUCCESS":return function(e,t){var a=t.entryId;console.log(a);var n=e.segmentEntry.map(function(e,t){var n=Object.assign({},e);return n.id===a&&(n.processingStatus="done"),n});return console.log(n),$e(e,{segmentEntry:n})}(e,t);case"FILE_SEGMENTATION_FAILED":return function(e,t){var a=t.entryId,n=e.segmentEntry.map(function(e,t){var n=Object.assign({},e);return n.id===a&&(n.processingStatus="error"),n});return $e(e,{segmentEntry:n})}(e,t);case"REFUSE_SEGMENT_AUDIO_FILES":return function(e,t){return $e(e,{refusedAudioFileList:t.refusedFileList,ifRefusedAudio:!0})}(e,t);case"REFUSE_SEGMENT_TXT_FILES":return function(e,t){return $e(e,{refusedTxtFileList:t.refusedFileList,ifRefusedAudio:!1})}(e,t)}return e},lt={txtContent:"",txtDisplayed:!1,txtfileName:"",txtFileUrl:"",audiofileName:"",audioContent:null,audioDisplayed:!1,audioFileUrl:"",waveSurferInitialized:!1,playing:!1},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_TXT_PREVIEW":return function(e,t){return $e(e,{txtContent:t.newContent,txtDisplayed:!0})}(e,t);case"UPDATE_AUDIO_PREVIEW":return function(e,t){return $e(e,{audioDisplayed:!0})}(e);case"OPEN_TXT_FILE_PREVIEW":return function(e,t){var a=t.fileContent,n=t.fileUrl,r=t.fileKey;return $e(e,{txtfileName:r,txtFileUrl:n,txtDisplayed:!1,txtContent:a})}(e,t);case"OPEN_AUDIO_FILE_PREVIEW":return function(e,t){var a=t.fileUrl,n=t.fileKey,r=t.waveSurferInitialized;return console.log(r),$e(e,{audiofileName:n,audioDisplayed:!1,audioFileUrl:a,waveSurferInitialized:r,playing:!1})}(e,t);case"WAVESURFER_INITIALIZED":return function(e,t){return $e(e,{waveSurferInitialized:t.ifYes})}(e,t);case"TOGGLE_PLAYING_PREVIEW":return function(e,t){return e.playing?$e(e,{playing:!1}):$e(e,{playing:!0})}(e);case"CLEAR_PREVIEW_STORE":return function(e,t){return $e(e,{txtContent:"",txtDisplayed:!1,txtfileName:"",txtFileUrl:"",audiofileName:"",audioDisplayed:!1,audioFileUrl:"",waveSurferInitialized:!1,playing:!1})}(e);case"CHANGE_AUDIO_DISPLAYED":return function(e,t){return $e(e,{audioDisplayed:t.ifYes})}(e,t)}return e},ct={errorMessage:"",error:!1,files:[]},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REPO_CREATE_FOLDER":return function(e,t){var a=t.key,n=e.files.concat([{key:a}]);return $e(e,{files:n})}(e,t);case"REPO_CREATE_FILES":return function(e,t){return t.files,t.prefix,$e(e,{})}(e,t);case"REPO_RENAME_FOLDER":return function(e,t){var a=t.oldKey,n=t.newKey;console.log("ZMIOANA NAZWY FOLDERU");var r=[];return e.files.map(function(e){a!==n&&r.push(Object(g.a)({},e,{key:e.key.replace(a,n),modified:+_()()}))}),$e(e,{files:r})}(e,t);case"REPO_RENAME_FILE":return function(e,t){var a=t.oldKey,n=t.newKey,r=[];return e.files.map(function(e){e.key===a?r.push(Object(g.a)({},e,{key:n,modified:+_()()})):r.push(e)}),$e(e,{files:r})}(e,t);case"REPO_DELETE_FOLDER":return function(e,t){var a=t.folderKey,n=[];return e.files.map(function(e){e.key.substr(0,a.length)!==a&&n.push(e)}),$e(e,{files:n})}(e,t);case"REPO_DELETE_FILE":return function(e,t){var a=t.fileKey,n=[];return e.files.map(function(e){if(e.key!==a)n.push(e);else{var t=a.lastIndexOf("/");if(t>1){console.log(e);var r=e.key.substring(0,t+1);console.log(r),e.key=r,n.push(e)}}}),$e(e,{files:n})}(e,t);case"REPO_GET_USER_PROJECT_FILES":return function(e,t){var a=t.files;return $e(e,{files:a})}(e,t);case"REPO_GET_USER_PROJECT_FILES_FAILED":return function(e,t){var a=t.error.toString();return $e(e,{errorMessage:a,error:!0})}(e,t)}return e},dt=a(112),pt={currentProjectID:"",currentProjectName:"",currentProjectOwner:"",modal:!1},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INIT_PROJECT":return function(e,t){return $e(e,{currentProjectID:t.projectId,currentProjectName:t.projectTitle,currentProjectOwner:t.projectOwner})}(e,t);case"OPEN_MODAL_PROJECT":return function(e,t){return $e(e,{modal:!0})}(e);case"CLOSE_MODAL_PROJECT":return function(e,t){return $e(e,{modal:!1})}(e)}return e},ft=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||qe.d;N.a.defaults.baseURL="http://clarin.korzinek.com:1234";var Et=Object(qe.c)({homeR:et,projectR:mt,prolistR:at,recR:rt,segR:it,repoR:ut,previewR:st}),gt=Object(qe.e)(Et,ft(Object(qe.a)(dt.a))),ht=r.a.createElement(y.a,{store:gt},r.a.createElement(h.a,null,r.a.createElement(Xe,null)));i.a.render(ht,document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[113,1,2]]]);
//# sourceMappingURL=main.4690b635.chunk.js.map